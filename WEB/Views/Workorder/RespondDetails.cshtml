@using TOOL.EnumUtil
@using WEB.Extensions
@{
    ViewBag.Title = "查看详情";
    Layout = "~/Views/UI/dialog.cshtml";
    var mode = ViewBag.mode as JMP.MDL.CsCustomerServiceRecord;
    string qt_url = (string)ViewBag.UploadUrl;
    string[] Envidence = ViewBag.EvidenceScreenshot;
}

<form id="frm-user-add" method="post" enctype="multipart/form-data">
    <div class="main">
        <div class="plate-form">
            <dl>
                <dt>大类：</dt>
                <dd>
                    <div class="single-input normal">
                        @{
                            switch (mode.MainCategory)
                            {
                                case 0:
                                    <label>运营</label>
                                    break;
                                case 1:
                                    <label>技术</label>
                                    break;
                            }

                        }
                    </div>
                </dd>
            </dl>
            <dl>
                <dt>小类：</dt>
                <dd>
                    <div class="single-input normal">
                        @Html.Raw(mode.SubCategory.GetEnumDescByValue<CustomerResponse.SubCategory>())
                    </div>
                </dd>
            </dl>
            <dl>
                <dt>值班人：</dt>
                <dd>
                    <div class="single-input normal"><label>@mode.u_realname</label></div>
                </dd>
            </dl>
            <dl>
                <dt>开发者：</dt>
                <dd>
                    <div class="single-input normal"><label>@(mode.DeveloperEmail)</label></div>
                </dd>
            </dl>
            <dl>
                <dt>提问时间：</dt>
                <dd>
                    <div class="single-input normal"><label>@(mode.AskDate == null ? "" : Convert.ToDateTime(mode.AskDate).ToString("yyyy-MM-dd HH:mm"))</label></div>
                </dd>
            </dl>
            <dl>
                <dt>提问截图：</dt>
                <dd>
                    <div class="upload-certificate">
                        @{
                            var urlAsk = string.IsNullOrEmpty(mode.AskScreenshot) ? "" : qt_url + mode.AskScreenshot;
                        }
                        <a href="@urlAsk" target="_blank"><img src="@urlAsk" style="width:100%;" /></a>
                    </div>
                </dd>
            </dl>

            <dl>
                <dt>响应时间：</dt>
                <dd>
                    <div class="single-input normal"><label>@(mode.ResponseDate==null?"": Convert.ToDateTime(mode.ResponseDate).ToString("yyyy-MM-dd HH:mm"))</label></div>
                </dd>
            </dl>
            <dl>
                <dt>响应截图：</dt>
                <dd>
                    <div class="upload-certificate">
                        @{
                            var urlResponse = string.IsNullOrEmpty(mode.ResponseScreenshot) ? "" : qt_url + mode.ResponseScreenshot;
                        }
                        <a href="@urlResponse" target="_blank"><img src="@urlResponse" style="width:100%;" /></a>
                    </div>
                </dd>
            </dl>
            <dl>
                <dt>处理详情：</dt>
                <dd>
                    <div class="single-input normal"><label>@mode.HandleDetails</label></div>
                </dd>
            </dl>
            <dl>
                <dt>处理完成时间：</dt>
                <dd>
                    <div class="single-input normal"><label>@(mode.CompletedDate==null?"": Convert.ToDateTime(mode.CompletedDate).ToString("yyyy-MM-dd HH:mm"))</label></div>
                </dd>
            </dl>
            <dl>
                <dt>截图证据：</dt>
                <dd>
                    <div class="upload-certificate">
                        @{
                            var url = "";
                            if (Envidence.Length > 1)
                            {
                                url = qt_url + Envidence[0];
                            }
                        }
                        <a href="@url" target="_blank"><img src="@url" style="width:100%;" /></a>
                    </div>
                    <div class="upload-certificate">
                        @{
                            var url1 = "";
                            if (Envidence.Length > 2)
                            {
                                url1 = qt_url + Envidence[1];
                            }
                        }
                        <a href="@url1" target="_blank"><img src="@url1" style="width:100%;" /></a>
                    </div>
                    <div class="upload-certificate">
                        @{
                            var url2 = "";
                            if (Envidence.Length > 3)
                            {
                                url2 = qt_url + Envidence[2];
                            }
                        }
                        <a href="@url2" target="_blank"><img src="@url2" style="width:100%;" /></a>
                    </div>
                    <div class="upload-certificate">
                        @{
                            var url3 = "";
                            if (Envidence.Length > 4)
                            {
                                url3 = qt_url + Envidence[3];
                            }
                        }
                        <a href="@url3" target="_blank"><img src="@url3" style="width:100%;" /></a>
                    </div>
                </dd>
            </dl>
        </div>
    </div>
    <div class="page-footer" style="width: 100%;">
        <div class="btn-listbtn">

            <input name="btnReturn" type="reset" onclick="btnCodesc()" value="取消" class="btn yellow" />
        </div>
        <div class="clear"></div>
    </div>
</form>
